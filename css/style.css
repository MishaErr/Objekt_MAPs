/* Базовые стилевые правила */
html,body { height:100%; margin:0; padding:0; font-family: Inter, system-ui, Arial, sans-serif; -webkit-font-smoothing:antialiased; }
#map { height:100%; width:100%; }

/* Панели */
.panel { position: absolute; background: rgba(255,255,255,0.98); box-shadow: 0 6px 18px rgba(0,0,0,0.12); border-radius: 12px; padding: 10px; z-index: 10000; }
#left-panel { left: 12px; top: 12px; width: 300px; max-width: calc(100% - 24px); transition: transform .22s ease; }
#right-panel { right: 12px; top: 12px; width: 260px; max-height: 70vh; overflow:auto; }

/* Responsive: мобильные — панели узкие и чуть прозрачные */
@media (max-width:720px) {
  #left-panel { width: 92%; left: 4%; top:6px; padding:8px; }
  #right-panel { width: 92%; right:4%; top: 64%; }
}

/* Панель содержание */
.panel-row.top { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.title { font-weight:600; font-size:16px; color:#222; }

/* Кнопки */
.icon-btn { background:transparent; border:0; font-size:18px; cursor:pointer; padding:4px; }
.small-btn { width:100%; padding:8px; border-radius:8px; border:1px solid #e6e6e6; background:#fafafa; margin-top:6px; cursor:pointer; }
.big-btn { width:100%; padding:10px; border-radius:10px; border:0; background:#0078ff; color:#fff; font-weight:600; margin-top:8px; cursor:pointer; }
.big-btn.secondary { background:#efefef; color:#222; }
.mode-btn { width:48%; padding:8px; border-radius:8px; border:1px solid #e6e6e6; background:#fff; cursor:pointer; }
.mode-btn.active { background:#0078ff; color:#fff; border-color:#0078ff; }

/* inputs */
.addr-input { width:100%; padding:8px; margin-top:6px; border-radius:8px; border:1px solid #e6e6e6; }

/* Legend */
.legend-items { display:flex; flex-direction:column; gap:8px; margin-top:6px; }
.legend-item { display:flex; align-items:center; justify-content:space-between; gap:8px; padding:6px; border-radius:8px; background:#fff; border:1px solid #f0f0f0; }
.legend-left { display:flex; align-items:center; gap:8px; cursor:pointer; flex:1; }
.legend-line { width:34px; height:6px; border-radius:4px; box-shadow:inset 0 -1px 0 rgba(0,0,0,0.08); }
.legend-title { font-weight:600; font-size:14px; color:#111; }
.legend-actions { display:flex; gap:6px; }

/* action buttons next to layer */
.layer-btn { padding:6px 8px; border-radius:8px; border:0; background:#f3f4f6; cursor:pointer; font-size:13px; }
.layer-btn.warn { background:#fff2e8; color:#b36b00; }

/* route-info bottom */
.route-info { position: absolute; left: 50%; transform: translateX(-50%); bottom: 12px; background: rgba(0,0,0,0.8); color:white; padding:8px 12px; border-radius:10px; font-weight:600; z-index:10001; box-shadow:0 8px 20px rgba(0,0,0,0.2); }

/* hide default routing container */
.leaflet-routing-container { display: none !important; }

/* subtle hover */
.legend-item:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.06); transition: all .15s ease; }

/* collapsed left panel */
#left-panel.collapsed { transform: translateY(-90%); opacity:0.96; pointer-events:none; }
